#!/usr/bin/env php
<?php

namespace Brain\Games;

$autoloadPath1 = __DIR__ . "/../vendor/autoload.php";
$autoloadPath2 = __DIR__ . "/../../../autoload.php";
if (file_exists($autoloadPath1)) {
    require_once $autoloadPath1;
} else {
    require_once $autoloadPath2;
}

use function Brain\Games\Cli\getUserName;
use function Brain\Games\Engine\runGame;
use function Brain\Games\Cli\replyToPlayer;

$playerName = getUserName();

$min = 0;
$max = 99;
$maxQuestions = 3;
$rules = 'Answer "yes" if the number is even, otherwise answer "no".';

$question = [];
$answer = [];

for ($i = 0; $i < $maxQuestions; $i++) {
    $question[$i] = rand($min, $max);
    $answer[$i] = $question[$i] % 2 ? 'no' : 'yes';
}

$result = runGame($rules, $question, $answer);

replyToPlayer($playerName, $result);
